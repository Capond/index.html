<!DOCTYPE html>
<html>
<head>
<title>Admin Dashboard</title>
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";
import { getAuth, signInWithEmailAndPassword } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js";

const firebaseConfig = {
  apiKey: "PASTE_YOURS",
  authDomain: "PASTE_YOURS",
  projectId: "PASTE_YOURS",
  storageBucket: "PASTE_YOURS",
  messagingSenderId: "PASTE_YOURS",
  appId: "PASTE_YOURS"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);

window.login = async function() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    await signInWithEmailAndPassword(auth, email, password);
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("adminPanel").style.display = "block";
};

window.addResult = async function() {
    const id = document.getElementById("reg").value;

    await setDoc(doc(db, "results", id), {
        name: document.getElementById("name").value,
        dob: document.getElementById("dob").value,
        test_center: document.getElementById("center").value,
        status: document.getElementById("status").value,
        reading: Number(document.getElementById("reading").value),
        listening: Number(document.getElementById("listening").value),
        writing: Number(document.getElementById("writing").value),
        speaking: Number(document.getElementById("speaking").value),
        level_reading: document.getElementById("lr").value,
        level_listening: document.getElementById("ll").value,
        level_writing: document.getElementById("lw").value,
        level_speaking: document.getElementById("ls").value,
        photo_url: document.getElementById("photo").value
    });

    alert("Result Added Successfully");
};
</script>
</head>
<body style="font-family:Arial; padding:40px;">

<div id="loginBox">
<h2>Admin Login</h2>
<input id="email" placeholder="Email"><br><br>
<input id="password" type="password" placeholder="Password"><br><br>
<button onclick="login()">Login</button>
</div>

<div id="adminPanel" style="display:none;">
<h2>Add Candidate Result</h2>

<input id="reg" placeholder="Registration ID"><br><br>
<input id="name" placeholder="Full Name"><br><br>
<input id="dob" placeholder="Date of Birth"><br><br>
<input id="center" placeholder="Test Center"><br><br>
<input id="status" placeholder="Status (Verified)"><br><br>
<input id="photo" placeholder="Photo URL"><br><br>

<h3>Scores</h3>
<input id="reading" placeholder="Reading Score"><br><br>
<input id="listening" placeholder="Listening Score"><br><br>
<input id="writing" placeholder="Writing Score"><br><br>
<input id="speaking" placeholder="Speaking Score"><br><br>

<input id="lr" placeholder="Level Reading"><br><br>
<input id="ll" placeholder="Level Listening"><br><br>
<input id="lw" placeholder="Level Writing"><br><br>
<input id="ls" placeholder="Level Speaking"><br><br>

<button onclick="addResult()">Save Result</button>
</div>

</body>
</html>
